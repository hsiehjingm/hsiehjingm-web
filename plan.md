# 謝錦 文學與生命覺醒讀書會 - 多頁靜態網站建置規劃

## 專案目標

將 `./pages` 資料夾內的 HTML 純內容檔案，轉換成多頁式靜態網站（MPA），風格類似 WordPress，支援寬版與窄版響應式設計。

---

## 專案結構分析

### pages 資料夾結構（共約 1906 個檔案）

```
pages/
├── 1.謝錦/                    # 34 項
│   ├── 1.我所認識的謝錦.html
│   ├── 4.訪談的謝錦/
│   └── 5.學生側寫的謝錦/
├── 2.著作/                    # 96 項
│   ├── 1.做自己是最深刻的反叛/
│   ├── 2.生命的窗口/
│   └── ...
├── 3.教學/                    # 196 項
├── 4.紀錄片/                  # 60 項
├── 5.讀書會/                  # 1512 項（最多，包含多年度課程分享）
└── 6.觀點/                    # 8 項
```

### 已安裝套件

- `lodash-es` - 工具函式庫
- `wsemi` - 工具函式庫
- `cheerio` - HTML 解析
- `prettier` - 程式碼格式化
- `axios` - HTTP 請求
- `mime-types` - MIME 類型處理

---

## 設計規劃

### 1. 網站風格設計

採用 **WordPress 經典部落格風格**，特色：

- **主色調**：深藍 (#1e3a5f) + 白色背景 + 橘金色強調 (#d4a574)
- **字型**：微軟正黑體、Noto Sans TC
- **卡片式內容**：圓角卡片、淡陰影
- **階層式導覽**：樹狀選單明確顯示層級關係

### 2. 響應式設計

| 模式 | 寬度 | 版面配置 |
|------|------|----------|
| 寬版 | ≥ 1024px | 左側內容 + 右側固定樹狀選單 |
| 窄版 | < 1024px | 全寬內容 + 右上角漢堡選單（點擊展開浮動樹狀選單） |

### 3. 頁面結構

```
┌──────────────────────────────────────────────────┐
│  Header（固定頂部）                               │
│  網站名稱：謝錦 文學與生命覺醒讀書會              │
│  [寬版] 頂部導覽列                                │
│  [窄版] 漢堡選單按鈕                              │
├──────────────────────────────────────────────────┤
│ [寬版]                                           │
│  ┌─────────────────────┐ ┌────────────────────┐  │
│  │                     │ │   右側樹狀選單     │  │
│  │     主內容區域      │ │   (可展開/收合)    │  │
│  │                     │ │                    │  │
│  └─────────────────────┘ └────────────────────┘  │
│                                                  │
│ [窄版]                                           │
│  ┌─────────────────────────────────────────────┐ │
│  │               主內容區域（全寬）             │ │
│  └─────────────────────────────────────────────┘ │
│  + 右上角漢堡選單 → 點擊展開右側浮動樹狀選單     │
├──────────────────────────────────────────────────┤
│  Footer（版權資訊）                              │
└──────────────────────────────────────────────────┘
```

---

## 技術架構

### 1. 程式碼結構（放置於 `./srcAI`）

```
srcAI/
├── build.mjs              # 主建置程式入口
├── generateMenu.mjs       # 生成樹狀選單結構
├── generatePages.mjs      # 生成各頁 HTML
├── processHtml.mjs        # HTML 內容處理與轉換
├── templates/
│   ├── layout.html        # 頁面主模板
│   └── menu.html          # 選單模板
└── utils/
    └── fileUtils.mjs      # 檔案操作工具函式
```

### 2. 輸出結構（放置於 `./web`）

```
web/
├── index.html             # 首頁
├── css/
│   └── style.css          # 自定義樣式
├── js/
│   └── menu.js            # 選單互動腳本
├── 1.謝錦/
│   ├── index.html         # 分類首頁
│   ├── 1.我所認識的謝錦.html
│   └── ...
├── 2.著作/
│   └── ...
└── ...
```

---

## 實作步驟

### 第一階段：基礎建置

1. **建立 `srcAI` 資料夾結構**
2. **建立 `generateMenu.mjs`**
   - 遞迴掃描 `./pages` 資料夾，找出所有 `.html` 檔
   - 依檔案名稱排序（利用數字前綴）
   - 生成樹狀選單 JSON 結構
3. **建立 `templates/layout.html`**
   - 包含 Tailwind CSS CDN
   - 包含 Font Awesome CDN
   - 響應式版面配置

### 第二階段：頁面生成

4. **建立 `processHtml.mjs`**
   - 使用 `cheerio` 清理 HTML
   - 處理圖片路徑
   - 套用 Tailwind 樣式類別
5. **建立 `generatePages.mjs`**
   - 遍歷所有 `.html` 檔案
   - 套用模板產生完整頁面
   - 生成分類目錄頁

### 第三階段：互動功能

6. **建立 `js/menu.js`**
   - 樹狀選單展開/收合
   - 漢堡選單開關（窄版）
   - 當前頁面高亮

### 第四階段：整合與測試

7. **建立 `build.mjs`**
   - 整合所有模組
   - 清理並建立 `./web` 資料夾
   - 執行完整建置流程
8. **測試驗證**
   - 開啟瀏覽器測試響應式效果
   - 驗證選單功能
   - 確認頁面內容正確顯示

---

## CDN 引用

```html
<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

---

## 選單結構範例

```json
{
  "name": "網站導覽",
  "children": [
    {
      "name": "1.謝錦",
      "path": "/1.謝錦/",
      "children": [
        { "name": "我所認識的謝錦", "path": "/1.謝錦/1.我所認識的謝錦.html" },
        { "name": "「我」是怎樣的一個人", "path": "/1.謝錦/2.「我」是怎樣的一個人.html" },
        {
          "name": "訪談的謝錦",
          "path": "/1.謝錦/4.訪談的謝錦/",
          "children": [...]
        }
      ]
    },
    ...
  ]
}
```

---

## 驗證計畫

### 自動測試

1. **執行建置程式**
   ```bash
   node srcAI/build.mjs
   ```
2. **檢查輸出結構**：確認 `./web` 資料夾內有正確的檔案結構

### 手動測試（瀏覽器）

1. **開啟首頁**：使用瀏覽器開啟 `./web/index.html`
2. **寬版測試**：視窗寬度 ≥ 1024px，確認右側樹狀選單正常顯示
3. **窄版測試**：視窗寬度 < 1024px，確認漢堡選單可展開/收合
4. **導覽測試**：點擊選單項目，確認頁面切換正確
5. **內容測試**：確認原始 HTML 內容正確呈現

---

## 注意事項

- 所有程式碼使用 ES6+ 語法，副檔名為 `.mjs`
- 優先使用 `lodash-es` 與 `wsemi` 已安裝套件
- 程式碼保留於 `./srcAI`，不刪除
- 輸出網站於 `./web`
- 所有輸出使用繁體中文

## 部署資訊

### GitHub Pages
- **倉庫網址**：https://github.com/hsiehjingm/hsiehjingm-web
- **網站網址**：https://hsiehjingm.github.io/hsiehjingm-web/
- **部署方式**：GitHub Actions (Source: `web/` folder)
